<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Resizer</title>
</head>
<body>
    <input type="file" id="imageInput" accept="image/*">
    <br>
    <label for="widthInput">Width:</label>
    <input type="number" id="widthInput" placeholder="Enter width">

    <label for="heightInput">Height:</label>
    <input type="number" id="heightInput" placeholder="Enter height">
    <br>
    <button onclick="resizeImage()">Resize Image</button>

    <div id="resultContainer">
        <h2>Resized Image:</h2>
        <img id="resizedImage" alt="Resized Image">
    </div>
    <div id="svgContainer"></div>
    <script>
        function resizeImage() {
            var input = document.getElementById('imageInput');
            var widthInput = document.getElementById('widthInput');
            var heightInput = document.getElementById('heightInput');

            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    var img = new Image();
                    img.src = e.target.result;

                    img.onload = function () {
                        var canvas = document.createElement('canvas');
                        var ctx = canvas.getContext('2d');
                        ctx.webkitImageSmoothingEnabled = true;
                        ctx.msImageSmoothingEnabled = true;
                        ctx.imageSmoothingEnabled = true;

                        // Set canvas dimensions to the desired width and height
                        canvas.width = widthInput.value;
                        canvas.height = heightInput.value;

                        // Draw the image onto the canvas with the new dimensions
                        ctx.drawImage(img, 0, 0, widthInput.value, heightInput.value);
                        var imageData = ctx.getImageData(0, 0, widthInput.value, heightInput.value).data;
                        let svgCode='<svg shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" xmlns="http://www.w3.org/2000/svg">';
                        for (var y = 0; y < heightInput.value; y++) {
                        for (var x = 0; x < widthInput.value; x++) {
                            var pixelIndex = (y * canvas.width + x) * 4; // Each pixel has 4 values (RGBA)
                            var red = imageData[pixelIndex];
                            var green = imageData[pixelIndex + 1];
                            var blue = imageData[pixelIndex + 2];
                            svgCode+=`<path d="M${x} ${y}h1v1h-1z" fill="rgb(${red},${green},${blue})"/>`                                
                        }
                    }
                    svgCode+='</svg>';
                    var svgContainer = document.getElementById('svgContainer');
                    svgContainer.style.display = 'block';
                    svgContainer.innerHTML = svgCode;
                        // Display the resized image
                        displayResizedImage(canvas.toDataURL('image/jpeg'));
                    };
                };

                reader.readAsDataURL(input.files[0]);
            }
        }

        function displayResizedImage(dataURL) {
            var resultContainer = document.getElementById('resultContainer');
            var resizedImage = document.getElementById('resizedImage');

            // Display the resized image
            resizedImage.src = dataURL;
            resultContainer.style.display = 'block';
        }
    </script>
</body>
</html>
